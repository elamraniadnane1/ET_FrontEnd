<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Energy Tracker - Smart Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <link rel="stylesheet" href="css/dashboard.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="nav-menu">
        <div class="logo">
            <i class="fas fa-bolt"></i>
            <h1>Energy Tracker</h1>
        </div>
        <ul>
            <li><a href="dashboard.html" class="active" data-translate="dashboard">
                <i class="fas fa-home"></i> Dashboard
            </a></li>
            <li><a href="track-energy.html" data-translate="track_energy">
                <i class="fas fa-chart-line"></i> Track Energy
            </a></li>
            <li><a href="compare.html" data-translate="compare_usage">
                <i class="fas fa-balance-scale"></i> Compare Usage
            </a></li>
            <li><a href="campaigns.html" data-translate="campaigns">
                <i class="fas fa-users"></i> Campaigns
            </a></li>
            <li><a href="recommendations.html" data-translate="recommendations">
                <i class="fas fa-lightbulb"></i> Tips
            </a></li>
            <li><a href="device-integration.html" data-translate="device_integration">
                <i class="fas fa-plug"></i> Devices
            </a></li>
            <li class="user-menu">
                <div class="user-profile">
                    <img src="/api/placeholder/32/32" alt="Profile" class="profile-image">
                    <span id="userName">Adnane</span>
                </div>
                <div class="dropdown-menu">
                    <a href="profile.html"><i class="fas fa-user"></i> Profile</a>
                    <a href="settings.html"><i class="fas fa-cog"></i> Settings</a>
                    <a href="#" id="logout"><i class="fas fa-sign-out-alt"></i> Logout</a>
                </div>
            </li>
        </ul>
        <div class="language-selector">
            <select id="languageSelect">
                <option value="en">English</option>
                <option value="fr">Français</option>
                <option value="ar">العربية</option>
            </select>
        </div>
    </nav>

    <!-- Main Dashboard Container -->
    <div class="dashboard-container">
        <!-- Header Section -->
        <header class="dashboard-header">
            <div class="header-info">
                <h2 data-translate="welcome_back">Welcome back, <span id="userNameDisplay">Adnane</span></h2>
                <p data-translate="overview_text">Smart Home Energy Overview - Ifrane</p>
                <span class="date-time" id="currentDateTime"></span>
            </div>
            <div class="weather-widget">
                <i class="fas fa-sun" id="weatherIcon"></i>
                <div class="weather-info">
                    <span id="temperature">18°C</span>
                    <span id="location">Ifrane</span>
                    <span id="weatherDescription">Sunny</span>
                </div>
            </div>
        </header>
        
        <!-- Quick Actions -->
        <div class="quick-actions">
            <button class="action-btn" onclick="window.location.href='track-energy.html'">
                <i class="fas fa-plus"></i>
                <span data-translate="add_usage">Add Usage</span>
            </button>
            <button class="action-btn" onclick="window.location.href='device-integration.html'">
                <i class="fas fa-plug"></i>
                <span data-translate="add_device">Add Device</span>
            </button>
            <button class="action-btn" onclick="window.location.href='set-goals.html'">
                <i class="fas fa-bullseye"></i>
                <span data-translate="set_goal">Set Goal</span>
            </button>
            <button class="action-btn" id="exportDataBtn">
                <i class="fas fa-download"></i>
                <span data-translate="export">Export Data</span>
            </button>
            <button class="action-btn" id="scheduleBtn">
                <i class="fas fa-clock"></i>
                <span data-translate="schedule">Schedule</span>
            </button>
        </div>

        <!-- Energy Overview -->
        <div class="energy-overview">
            <div class="overview-cards">
                <!-- Total Energy -->
                <div class="overview-card">
                    <div class="card-header">
                        <i class="fas fa-bolt"></i>
                        <h3>Total Energy</h3>
                    </div>
                    <div class="card-body">
                        <p class="value">1,245 <span class="unit">kWh</span></p>
                        <p class="change increase">
                            <i class="fas fa-arrow-up"></i> +5.2% <span class="change-description">vs last month</span>
                        </p>
                    </div>
                </div>
        
                <!-- Cost -->
                <div class="overview-card">
                    <div class="card-header">
                        <i class="fas fa-dollar-sign"></i>
                        <h3>Cost</h3>
                    </div>
                    <div class="card-body">
                        <p class="value">980 <span class="unit">MAD</span></p>
                        <p class="change decrease">
                            <i class="fas fa-arrow-down"></i> -2.1% <span class="change-description">vs last month</span>
                        </p>
                    </div>
                </div>
                <!-- Carbon Footprint -->
                <div class="overview-card">
                    <div class="card-header">
                        <i class="fas fa-leaf"></i>
                        <h3>Carbon Footprint</h3>
                    </div>
                    <div class="card-body">
                        <p class="value">425 <span class="unit">kg</span></p>
                        <p class="change increase">
                            <i class="fas fa-arrow-up"></i> +3.4% <span class="change-description">vs last month</span>
                        </p>
                    </div>
                </div>
                <!-- Solar Generation -->
                <div class="overview-card">
                    <div class="card-header">
                        <i class="fas fa-solar-panel"></i>
                        <h3>Solar Generation</h3>
                    </div>
                    <div class="card-body">
                        <p class="value">320 <span class="unit">kWh</span></p>
                        <p class="change increase">
                            <i class="fas fa-arrow-up"></i> +8.7% <span class="change-description">vs last month</span>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Add this right after the Energy Overview section -->

        <!-- Real-time Monitoring Panel -->
        <div class="realtime-monitoring-section">
            <div class="section-header">
                <h3><i class="fas fa-satellite-dish"></i> Real-time Monitoring</h3>
                <div class="header-actions">
                    <button class="pause-btn" onclick="toggleLiveUpdates()">
                        <i class="fas fa-pause"></i> Pause Updates
                    </button>
                    <span class="update-status">Updating live...</span>
                </div>
            </div>
            
            <div class="realtime-grid">
                <!-- Power Quality Monitor -->
                <div class="realtime-card">
                    <div class="card-header">
                        <h4><i class="fas fa-bolt"></i> Power Quality</h4>
                        <span class="status good">Good</span>
                    </div>
                    <div class="realtime-metrics">
                        <div class="metric">
                            <span class="label">Voltage</span>
                            <span class="value" id="liveVoltage">220V</span>
                            <div class="mini-chart" id="voltageChart"></div>
                        </div>
                        <div class="metric">
                            <span class="label">Frequency</span>
                            <span class="value" id="liveFrequency">50Hz</span>
                            <div class="mini-chart" id="frequencyChart"></div>
                        </div>
                        <div class="metric">
                            <span class="label">Power Factor</span>
                            <span class="value" id="powerFactor">0.98</span>
                            <div class="mini-chart" id="powerFactorChart"></div>
                        </div>
                    </div>
                </div>

                <!-- Peak Demand Monitor -->
                <div class="realtime-card">
                    <div class="card-header">
                        <h4><i class="fas fa-chart-line"></i> Peak Demand</h4>
                        <span class="status warning">Near Peak</span>
                    </div>
                    <div class="demand-gauge">
                        <canvas id="demandGauge"></canvas>
                        <div class="gauge-value">
                            <span id="currentDemand">3.8</span>
                            <span class="unit">kW</span>
                        </div>
                    </div>
                    <div class="peak-times">
                        <div class="peak-indicator">
                            <span class="time">Now</span>
                            <div class="indicator-bar" style="height: 60%"></div>
                        </div>
                        <!-- Add more peak time indicators -->
                    </div>
                </div>

                <!-- Solar Production Monitor -->
                <div class="realtime-card">
                    <div class="card-header">
                        <h4><i class="fas fa-sun"></i> Solar Production</h4>
                        <span class="status optimal">Optimal</span>
                    </div>
                    <div class="solar-metrics">
                        <div class="current-production">
                            <span class="value" id="solarOutput">2.4</span>
                            <span class="unit">kW</span>
                            <span class="trend up">+0.2 kW</span>
                        </div>
                        <div class="production-chart">
                            <canvas id="solarProductionChart"></canvas>
                        </div>
                        <div class="efficiency-metrics">
                            <div class="metric">
                                <span class="label">Panel Efficiency</span>
                                <span class="value">96%</span>
                            </div>
                            <div class="metric">
                                <span class="label">Temperature</span>
                                <span class="value">42°C</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Grid Exchange Monitor -->
                <div class="realtime-card">
                    <div class="card-header">
                        <h4><i class="fas fa-exchange-alt"></i> Grid Exchange</h4>
                        <span class="status exporting">Exporting</span>
                    </div>
                    <div class="exchange-flow">
                        <div class="flow-diagram">
                            <div class="solar-source">
                                <i class="fas fa-solar-panel"></i>
                                <span>2.4 kW</span>
                            </div>
                            <div class="flow-arrows">
                                <div class="arrow incoming">
                                    <i class="fas fa-long-arrow-alt-right"></i>
                                    <span>0.8 kW</span>
                                </div>
                                <div class="arrow outgoing">
                                    <i class="fas fa-long-arrow-alt-left"></i>
                                    <span>1.2 kW</span>
                                </div>
                            </div>
                            <div class="home-consumption">
                                <i class="fas fa-home"></i>
                                <span>2.0 kW</span>
                            </div>
                        </div>
                        <div class="exchange-stats">
                            <div class="stat">
                                <span class="label">Net Exchange</span>
                                <span class="value export">+0.4 kW</span>
                            </div>
                            <div class="stat">
                                <span class="label">Grid Quality</span>
                                <span class="value">98%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Live Device Status Strip -->
        <div class="live-status-strip">
            <div class="status-scroll">
                <div class="status-item">
                    <i class="fas fa-thermometer-half"></i>
                    <span class="device">Smart AC</span>
                    <span class="value">22°C</span>
                    <span class="trend down">-0.5°C</span>
                </div>
                <div class="status-item">
                    <i class="fas fa-lightbulb"></i>
                    <span class="device">Living Room</span>
                    <span class="value">80%</span>
                    <span class="mode">Evening Mode</span>
                </div>
                <!-- Add more status items -->
            </div>
        </div>

        <!-- Real-time Alerts Panel -->
        <div class="realtime-alerts">
            <div class="alert-header">
                <h4>Live Monitoring</h4>
                <span class="alert-count">3 Active</span>
            </div>
            <div class="alert-list">
                <div class="alert-item critical">
                    <div class="alert-icon">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="alert-content">
                        <span class="alert-title">High Power Consumption</span>
                        <span class="alert-description">AC unit drawing unusual power</span>
                        <span class="alert-time">2 mins ago</span>
                    </div>
                    <button class="alert-action">Investigate</button>
                </div>
                <!-- More alert items -->
            </div>
        </div>

        <!-- Prediction Panel -->
        <div class="prediction-panel">
            <div class="section-header">
                <h3><i class="fas fa-brain"></i> AI Predictions</h3>
                <div class="refresh-time">Updated 2 mins ago</div>
            </div>
            <div class="prediction-grid">
                <div class="prediction-card">
                    <h4>Today's Expected Usage</h4>
                    <div class="prediction-value">
                        <span class="value">32.4</span>
                        <span class="unit">kWh</span>
                    </div>
                    <div class="confidence">
                        <span class="label">Confidence</span>
                        <div class="confidence-bar" style="width: 85%"></div>
                        <span class="value">85%</span>
                    </div>
                </div>
                <!-- More prediction cards -->
            </div>
        </div>
        
        <!-- Smart Devices Control -->
        <div class="smart-devices-control">
            <div class="section-header">
                <h3><i class="fas fa-microchip"></i> Smart Devices Control</h3>
                <div class="header-actions">
                    <button class="refresh-btn" onclick="refreshDevices()">
                        <i class="fas fa-sync-alt"></i> Refresh
                    </button>
                    <button class="add-device-btn" onclick="window.location.href='device-integration.html'">
                        <i class="fas fa-plus"></i> Add Device
                    </button>
                </div>
            </div>
            
            <div class="devices-grid" id="smartDevices">
                <!-- Smart AC Control -->
                <div class="device-card" data-device="ac">
                    <div class="device-header">
                        <i class="fas fa-wind"></i>
                        <h4>Smart AC</h4>
                        <span class="status online">Online</span>
                    </div>
                    <div class="device-controls">
                        <div class="temperature-control">
                            <button class="temp-btn" onclick="adjustTemperature('ac', 'decrease')">
                                <i class="fas fa-minus"></i>
                            </button>
                            <div class="temp-display">
                                <span id="acTemp">22°C</span>
                                <span class="mode">Cooling</span>
                            </div>
                            <button class="temp-btn" onclick="adjustTemperature('ac', 'increase')">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                        <div class="mode-control">
                            <select id="acMode" onchange="changeMode('ac')">
                                <option value="auto">Auto</option>
                                <option value="cool">Cool</option>
                                <option value="heat">Heat</option>
                                <option value="fan">Fan</option>
                            </select>
                        </div>
                        <div class="power-control">
                            <button class="power-btn" onclick="toggleDevice('ac')">
                                <i class="fas fa-power-off"></i>
                            </button>
                        </div>
                    </div>
                    <div class="device-footer">
                        <div class="energy-info">
                            <span class="energy-label">Energy:</span>
                            <span class="energy-value">2.4 kWh</span>
                        </div>
                        <div class="device-actions">
                            <button class="schedule-btn" onclick="scheduleDevice('ac')">
                                <i class="fas fa-clock"></i> Schedule
                            </button>
                            <button class="details-btn" onclick="showDeviceDetails('ac')">
                                <i class="fas fa-chart-line"></i> Details
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Smart Lighting Control -->
                <div class="device-card" data-device="lights">
                    <div class="device-header">
                        <i class="fas fa-lightbulb"></i>
                        <h4>Smart Lights</h4>
                        <span class="status online">Online</span>
                    </div>
                    <div class="device-controls">
                        <div class="brightness-control">
                            <input type="range" id="brightness" min="0" max="100" value="80" 
                                   onchange="adjustBrightness('lights')">
                            <span class="brightness-value">80%</span>
                        </div>
                        <div class="zone-control">
                            <select id="lightingZone" onchange="changeZone('lights')">
                                <option value="all">All Zones</option>
                                <option value="living">Living Room</option>
                                <option value="bedroom">Bedroom</option>
                                <option value="kitchen">Kitchen</option>
                                <option value="outdoor">Outdoor</option>
                            </select>
                        </div>
                        <div class="scene-control">
                            <button class="scene-btn" onclick="setLightingScene('day')">Day</button>
                            <button class="scene-btn" onclick="setLightingScene('evening')">Evening</button>
                            <button class="scene-btn" onclick="setLightingScene('night')">Night</button>
                        </div>
                    </div>
                    <div class="device-footer">
                        <div class="energy-info">
                            <span class="energy-label">Energy:</span>
                            <span class="energy-value">0.8 kWh</span>
                        </div>
                        <div class="device-actions">
                            <button class="schedule-btn" onclick="scheduleDevice('lights')">
                                <i class="fas fa-clock"></i> Schedule
                            </button>
                            <button class="details-btn" onclick="showDeviceDetails('lights')">
                                <i class="fas fa-chart-line"></i> Details
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Water Heater Control -->
                <div class="device-card" data-device="waterHeater">
                    <div class="device-header">
                        <i class="fas fa-hot-tub"></i>
                        <h4>Water Heater</h4>
                        <span class="status online">Online</span>
                    </div>
                    <div class="device-controls">
                        <div class="temperature-control">
                            <button class="temp-btn" onclick="adjustTemperature('waterHeater', 'decrease')">
                                <i class="fas fa-minus"></i>
                            </button>
                            <div class="temp-display">
                                <span id="waterTemp">60°C</span>
                                <span class="mode">Eco Mode</span>
                            </div>
                            <button class="temp-btn" onclick="adjustTemperature('waterHeater', 'increase')">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                        <div class="mode-control">
                            <select id="waterHeaterMode" onchange="changeMode('waterHeater')">
                                <option value="eco">Eco Mode</option>
                                <option value="comfort">Comfort</option>
                                <option value="boost">Boost</option>
                            </select>
                        </div>
                        <div class="power-control">
                            <button class="power-btn" onclick="toggleDevice('waterHeater')">
                                <i class="fas fa-power-off"></i>
                            </button>
                        </div>
                    </div>
                    <div class="device-footer">
                        <div class="energy-info">
                            <span class="energy-label">Energy:</span>
                            <span class="energy-value">1.6 kWh</span>
                        </div>
                        <div class="device-actions">
                            <button class="schedule-btn" onclick="scheduleDevice('waterHeater')">
                                <i class="fas fa-clock"></i> Schedule
                            </button>
                            <button class="details-btn" onclick="showDeviceDetails('waterHeater')">
                                <i class="fas fa-chart-line"></i> Details
                            </button>
                        </div>
                    </div>
                </div>

                <!-- EV Charger Control -->
                <div class="device-card" data-device="evCharger">
                    <div class="device-header">
                        <i class="fas fa-charging-station"></i>
                        <h4>EV Charger</h4>
                        <span class="status offline">Offline</span>
                    </div>
                    <div class="device-controls">
                        <div class="charging-control">
                            <select id="chargingMode" onchange="changeChargingMode()">
                                <option value="fast">Fast Charging</option>
                                <option value="eco">Eco Mode</option>
                                <option value="smart">Smart Charging</option>
                                <option value="scheduled">Scheduled</option>
                            </select>
                        </div>
                        <div class="charging-status">
                            <div class="status-item">
                                <span class="label">Battery Level:</span>
                                <span class="value">N/A</span>
                            </div>
                            <div class="status-item">
                                <span class="label">Time to Full:</span>
                                <span class="value">N/A</span>
                            </div>
                            <div class="status-item">
                                <span class="label">Charging Rate:</span>
                                <span class="value">N/A</span>
                            </div>
                        </div>
                        <div class="power-control">
                            <button class="power-btn" onclick="toggleDevice('evCharger')" disabled>
                                <i class="fas fa-power-off"></i>
                            </button>
                        </div>
                    </div>
                    <div class="device-footer">
                        <div class="connection-status">
                            <span>Not Connected</span>
                            <button class="connect-btn" onclick="connectEV()">
                                <i class="fas fa-plug"></i> Connect
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Energy Usage Analytics -->
        <div class="analytics-section">
            <div class="section-header">
                <h3><i class="fas fa-chart-line"></i> Energy Analytics</h3>
                <div class="time-range-selector">
                    <button class="time-btn active" data-range="day">Day</button>
                    <button class="time-btn" data-range="week">Week</button>
                    <button class="time-btn" data-range="month">Month</button>
                    <button class="time-btn" data-range="year">Year</button>
                </div>
            </div>
            
            <div class="charts-grid">
                <!-- Usage Trend Chart -->
                <div class="chart-card">
                    <div class="chart-header">
                        <h4>Energy Usage Trend</h4>
                        <div class="chart-controls">
                            <select id="usageMetric">
                                <option value="kwh">kWh</option>
                                <option value="cost">Cost</option>
                                <option value="carbon">Carbon</option>
                            </select>
                        </div>
                    </div>
                    <div class="chart-container">
                        <canvas id="usageTrendChart"></canvas>
                    </div>
                </div>

                <!-- Usage Breakdown Chart -->
                <div class="chart-card">
                    <div class="chart-header">
                        <h4>Usage Breakdown</h4>
                        <div class="chart-controls">
                            <button class="view-toggle" onclick="toggleChartView('breakdown')">
                                <i class="fas fa-chart-pie"></i>
                            </button>
                        </div>
                    </div>
                    <div class="chart-container">
                        <canvas id="usageBreakdownChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
                <!-- Community Comparison Section -->
                <div class="community-comparison-section">
                    <div class="section-header">
                        <h3><i class="fas fa-users"></i> Community Comparison</h3>
                    </div>
                    <div class="comparison-grid">
                        <!-- Your Stats -->
                        <div class="comparison-card">
                            <h4>Your Stats</h4>
                            <p>Energy Usage: <span class="value">1,245</span> kWh</p>
                            <p>Carbon Footprint: <span class="value">425</span> kg</p>
                            <p>Rank: <span class="value">#5</span></p>
                        </div>
        
                        <!-- Community Averages -->
                        <div class="comparison-card">
                            <h4>Community Averages</h4>
                            <p>Energy Usage: <span class="value">1,100</span> kWh</p>
                            <p>Carbon Footprint: <span class="value">390</span> kg</p>
                            <p>Average Rank: <span class="value">#7</span></p>
                        </div>
        
                        <!-- Leaderboard -->
                        <div class="comparison-card">
                            <h4>Leaderboard</h4>
                            <ol class="leaderboard">
                                <li>#1 - Home A (980 kWh)</li>
                                <li>#2 - Home B (1,020 kWh)</li>
                                <li>#3 - Home C (1,040 kWh)</li>
                            </ol>
                        </div>
                    </div>
                </div>
        
                <!-- Companies Comparison Section -->
                <div class="companies-comparison-section">
                    <div class="section-header">
                        <h3><i class="fas fa-industry"></i> Companies Comparison</h3>
                    </div>
                    <div class="comparison-grid">
                        <!-- Your Company -->
                        <div class="comparison-card">
                            <h4>Your Company</h4>
                            <p>Energy Usage: <span class="value">1,245</span> kWh</p>
                            <p>Carbon Footprint: <span class="value">425</span> kg</p>
                            <p>Cost: <span class="value">980 MAD</span></p>
                        </div>
        
                        <!-- Competitor 1 -->
                        <div class="comparison-card">
                            <h4>Competitor 1</h4>
                            <p>Energy Usage: <span class="value">1,300</span> kWh</p>
                            <p>Carbon Footprint: <span class="value">460</span> kg</p>
                            <p>Cost: <span class="value">1,100 MAD</span></p>
                        </div>
        
                        <!-- Competitor 2 -->
                        <div class="comparison-card">
                            <h4>Competitor 2</h4>
                            <p>Energy Usage: <span class="value">1,180</span> kWh</p>
                            <p>Carbon Footprint: <span class="value">400</span> kg</p>
                            <p>Cost: <span class="value">950 MAD</span></p>
                        </div>
                    </div>
                </div>        
        <!-- Goals and Campaign Progress -->
        <div class="goals-campaigns-section">
            <div class="goals-section">
                <div class="section-header">
                    <h3><i class="fas fa-bullseye"></i> Goals Progress</h3>
                    <button class="add-goal-btn" onclick="addNewGoal()">
                        <i class="fas fa-plus"></i> Add Goal
                    </button>
                </div>
                <div class="goals-grid">
                    <div class="goal-card">
                        <div class="goal-header">
                            <h4>Monthly Reduction</h4>
                            <span class="goal-target">Target: -10%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress" style="width: 65%">
                                <span class="progress-text">65%</span>
                            </div>
                        </div>
                        <div class="goal-footer">
                            <span class="time-remaining">7 days remaining</span>
                            <button class="details-btn" onclick="showGoalDetails('reduction')">
                                <i class="fas fa-info-circle"></i>
                            </button>
                        </div>
                    </div>

                    <div class="goal-card">
                        <div class="goal-header">
                            <h4>Solar Usage</h4>
                            <span class="goal-target">Target: 40%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress" style="width: 82%">
                                <span class="progress-text">82%</span>
                            </div>
                        </div>
                        <div class="goal-footer">
                            <span class="time-remaining">15 days remaining</span>
                            <button class="details-btn" onclick="showGoalDetails('solar')">
                                <i class="fas fa-info-circle"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="campaigns-section">
                <div class="section-header">
                    <h3><i class="fas fa-users"></i> Active Campaigns</h3>
                    <button class="browse-campaigns-btn" onclick="browseCampaigns()">
                        <i class="fas fa-search"></i> Browse
                    </button>
                </div>
                <div class="campaigns-grid">
                    <div class="campaign-card">
                        <div class="campaign-header">
                            <i class="fas fa-home"></i>
                            <h4>Homes in Ifrane</h4>
                            <span class="participants">50 participants</span>
                        </div>
                        <div class="campaign-progress">
                            <div class="progress-bar">
                                <div class="progress" style="width: 75%">
                                    <span class="progress-text">75%</span>
                                </div>
                            </div>
                        </div>
                        <div class="campaign-stats">
                            <div class="stat">
                                <span class="label">Your Rank</span>
                                <span class="value">#5</span>
                            </div>
                            <div class="stat">
                                <span class="label">Savings</span>
                                <span class="value">152 kWh</span>
                            </div>
                        </div>
                    </div>

                    <div class="campaign-card">
                        <div class="campaign-header">
                            <i class="fas fa-leaf"></i>
                            <h4>Green Winter</h4>
                            <span class="participants">128 participants</span>
                        </div>
                        <div class="campaign-progress">
                            <div class="progress-bar">
                                <div class="progress" style="width: 45%">
                                    <span class="progress-text">45%</span>
                                </div>
                            </div>
                        </div>
                        <div class="campaign-stats">
                            <div class="stat">
                                <span class="label">Your Rank</span>
                                <span class="value">#12</span>
                            </div>
                            <div class="stat">
                                <span class="label">Savings</span>
                                <span class="value">98 kWh</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Notifications and Activity Feed -->
        <div class="notifications-activity-section">
            <div class="notifications-panel">
                <div class="section-header">
                    <h3><i class="fas fa-bell"></i> Notifications</h3>
                    <button class="clear-all-btn" onclick="clearAllNotifications()">
                        <i class="fas fa-trash"></i> Clear All
                    </button>
                </div>
                <div class="notifications-list" id="notificationsList">
                    <!-- Notifications will be dynamically added here -->
                </div>
            </div>

            <div class="activity-feed">
                <div class="section-header">
                    <h3><i class="fas fa-history"></i> Recent Activity</h3>
                    <button class="view-all-btn" onclick="viewAllActivity()">
                        View All
                    </button>
                </div>
                <div class="activity-list" id="activityList">
                    <!-- Activity items will be dynamically added here -->
                </div>
            </div>
        </div>

        <!-- Scheduling Modal -->
        <div id="scheduleModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Schedule Device</h3>
                    <button class="close-btn" onclick="closeModal()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="schedule-form">
                    <div class="form-group">
                        <label>Device:</label>
                        <span id="selectedDevice"></span>
                    </div>
                    <div class="form-group">
                        <label>Start Time:</label>
                        <input type="time" id="scheduleStart">
                    </div>
                    <div class="form-group">
                        <label>End Time:</label>
                        <input type="time" id="scheduleEnd">
                    </div>
                    <div class="form-group">
                        <label>Repeat:</label>
                        <select id="scheduleRepeat">
                            <option value="once">Once</option>
                            <option value="daily">Daily</option>
                            <option value="weekdays">Weekdays</option>
                            <option value="weekends">Weekends</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Mode:</label>
                        <select id="scheduleMode">
                            <option value="normal">Normal</option>
                            <option value="eco">Eco</option>
                            <option value="boost">Boost</option>
                        </select>
                    </div>
                    <div class="modal-buttons">
                        <button onclick="saveSchedule()" class="save-btn">
                            <i class="fas fa-save"></i> Save
                        </button>
                        <button onclick="closeModal()" class="cancel-btn">
                            <i class="fas fa-times"></i> Cancel
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Toast Notifications -->
        <div id="toast" class="toast"></div>
    </div>

    <script src="js/dashboard.js"></script>
</body>
</html>